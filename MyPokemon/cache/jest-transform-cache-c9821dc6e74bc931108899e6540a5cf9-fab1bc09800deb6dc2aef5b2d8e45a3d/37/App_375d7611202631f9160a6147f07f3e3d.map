{"version":3,"names":["Stack","createNativeStackNavigator","AuthStack","headerStyle","backgroundColor","headerTitleAlign","LoginScreen","CreateAccount","AuthenticatedStack","dispatch","useDispatch","logout","authenticationActions","logOut","AsyncStorage","removeItem","fontWeight","HomeScreen","headerLeft","styles","buttonOuterContainer","buttonInnerContainer","color","DetailsScreen","FavoritesScreen","Navigator","useState","isLoading","setIsLoading","auth","useSelector","state","authentication","isAuthenticated","useEffect","checkToken","token","getItem","logIn","App","store","StyleSheet","create","container","flex","alignItems","justifyContent","fontSize","text","textAlign","borderRadius","paddingHorizontal","overflow","padding","elevation"],"sources":["App.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {ActivityIndicator, Pressable, StyleSheet, View} from 'react-native';\nimport {NavigationContainer} from '@react-navigation/native';\nimport {createNativeStackNavigator} from '@react-navigation/native-stack';\nimport HomeScreen from './UI/components/screens/HomeScreen';\nimport DetailsScreen from './UI/components/screens/DetailsScreen';\nimport {Provider, useDispatch, useSelector} from 'react-redux';\nimport {store} from './store/redux';\nimport {createDrawerNavigator} from '@react-navigation/drawer';\nimport FavoritesScreen from './UI/components/screens/FavoritesScreen';\nimport LoginScreen from './UI/components/authentication/screens/Login';\nimport CreateAccount from './UI/components/authentication/screens/CreateAccount';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport {authenticationActions} from './store/authenticationSlice';\nimport {Text} from 'react-native-elements';\n\nconst Stack = createNativeStackNavigator();\n//const Drawer = createDrawerNavigator();\n\nfunction AuthStack() {\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {backgroundColor: '#fcffcf'},\n        headerTitleAlign: 'center',\n      }}>\n      <Stack.Screen name=\"Login\" component={LoginScreen} />\n      <Stack.Screen name=\"Create Account\" component={CreateAccount} />\n    </Stack.Navigator>\n  );\n}\n\nfunction AuthenticatedStack() {\n  const dispatch = useDispatch();\n\n  async function logout() {\n    dispatch(authenticationActions.logOut());\n    await AsyncStorage.removeItem('token');\n  }\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {backgroundColor: '#fcffcf', fontWeight: 'bold'},\n        headerTitleAlign: 'center',\n      }}>\n      <Stack.Screen\n        name=\"Home\"\n        component={HomeScreen}\n        options={{\n          headerLeft: () => {\n            return (\n              <View style={styles.buttonOuterContainer}>\n                <Pressable\n                  style={styles.buttonInnerContainer}\n                  onPress={logout}\n                  android_ripple={{color: '#AA336A'}}>\n                  <Text style={styles.logout}>Log Out</Text>\n                </Pressable>\n              </View>\n            );\n          },\n        }}\n      />\n      <Stack.Screen name=\"Details\" component={DetailsScreen} />\n      <Stack.Screen\n        name=\"Favorites\"\n        component={FavoritesScreen}\n        options={{headerStyle: {backgroundColor: '#A2E4B8'}}}\n      />\n    </Stack.Navigator>\n  );\n}\n\nfunction Navigator() {\n  const [isLoading, setIsLoading] = useState(true);\n  const auth = useSelector(state => state.authentication.isAuthenticated);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    async function checkToken() {\n      const token = await AsyncStorage.getItem('token');\n      if (token) {\n        dispatch(authenticationActions.logIn(token));\n      }\n    }\n    checkToken();\n    setIsLoading(false);\n  }, []);\n\n  if (isLoading) {\n    return <ActivityIndicator size=\"large\" />;\n  }\n\n  return (\n    <NavigationContainer>\n      {!auth ? <AuthStack /> : <AuthenticatedStack />}\n    </NavigationContainer>\n  );\n}\n\nexport default function App() {\n  return (\n    <Provider store={store}>\n      <Navigator />\n    </Provider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  logout: {\n    fontWeight: 'bold',\n    fontSize: 20,\n  },\n  text: {\n    textAlign: 'left',\n    borderRadius: 10,\n    backgroundColor: 'pink',\n    paddingHorizontal: 100,\n  },\n  buttonOuterContainer: {\n    borderRadius: 10,\n    overflow: 'hidden',\n  },\n  buttonInnerContainer: {\n    padding: 10,\n    backgroundColor: '#FFC0CB',\n    elevation: 2,\n  },\n});\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAA2C;AAAA;AAAA;AAE3C,IAAMA,KAAK,GAAG,IAAAC,uCAA0B,GAAE;AAG1C,SAASC,SAAS,GAAG;EACnB,OACE,sBAAC,KAAK,CAAC,SAAS;IACd,aAAa,EAAE;MACbC,WAAW,EAAE;QAACC,eAAe,EAAE;MAAS,CAAC;MACzCC,gBAAgB,EAAE;IACpB,CAAE;IAAA,WACF,qBAAC,KAAK,CAAC,MAAM;MAAC,IAAI,EAAC,OAAO;MAAC,SAAS,EAAEC;IAAY,EAAG,EACrD,qBAAC,KAAK,CAAC,MAAM;MAAC,IAAI,EAAC,gBAAgB;MAAC,SAAS,EAAEC;IAAc,EAAG;EAAA,EAChD;AAEtB;AAEA,SAASC,kBAAkB,GAAG;EAC5B,IAAMC,QAAQ,GAAG,IAAAC,uBAAW,GAAE;EAAC,SAEhBC,MAAM;IAAA;EAAA;EAAA;IAAA,0CAArB,aAAwB;MACtBF,QAAQ,CAACG,0CAAqB,CAACC,MAAM,EAAE,CAAC;MACxC,MAAMC,qBAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IACxC,CAAC;IAAA;EAAA;EACD,OACE,sBAAC,KAAK,CAAC,SAAS;IACd,aAAa,EAAE;MACbZ,WAAW,EAAE;QAACC,eAAe,EAAE,SAAS;QAAEY,UAAU,EAAE;MAAM,CAAC;MAC7DX,gBAAgB,EAAE;IACpB,CAAE;IAAA,WACF,qBAAC,KAAK,CAAC,MAAM;MACX,IAAI,EAAC,MAAM;MACX,SAAS,EAAEY,mBAAW;MACtB,OAAO,EAAE;QACPC,UAAU,EAAE,sBAAM;UAChB,OACE,qBAAC,iBAAI;YAAC,KAAK,EAAEC,MAAM,CAACC,oBAAqB;YAAA,UACvC,qBAAC,sBAAS;cACR,KAAK,EAAED,MAAM,CAACE,oBAAqB;cACnC,OAAO,EAAEV,MAAO;cAChB,cAAc,EAAE;gBAACW,KAAK,EAAE;cAAS,CAAE;cAAA,UACnC,qBAAC,yBAAI;gBAAC,KAAK,EAAEH,MAAM,CAACR,MAAO;gBAAA,UAAC;cAAO;YAAO;UAChC,EACP;QAEX;MACF;IAAE,EACF,EACF,qBAAC,KAAK,CAAC,MAAM;MAAC,IAAI,EAAC,SAAS;MAAC,SAAS,EAAEY;IAAc,EAAG,EACzD,qBAAC,KAAK,CAAC,MAAM;MACX,IAAI,EAAC,WAAW;MAChB,SAAS,EAAEC,wBAAgB;MAC3B,OAAO,EAAE;QAACrB,WAAW,EAAE;UAACC,eAAe,EAAE;QAAS;MAAC;IAAE,EACrD;EAAA,EACc;AAEtB;AAEA,SAASqB,SAAS,GAAG;EACnB,gBAAkC,IAAAC,eAAQ,EAAC,IAAI,CAAC;IAAA;IAAzCC,SAAS;IAAEC,YAAY;EAC9B,IAAMC,IAAI,GAAG,IAAAC,uBAAW,EAAC,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACC,cAAc,CAACC,eAAe;EAAA,EAAC;EACvE,IAAMxB,QAAQ,GAAG,IAAAC,uBAAW,GAAE;EAE9B,IAAAwB,gBAAS,EAAC,YAAM;IAAA,SACCC,UAAU;MAAA;IAAA;IAAA;MAAA,8CAAzB,aAA4B;QAC1B,IAAMC,KAAK,SAAStB,qBAAY,CAACuB,OAAO,CAAC,OAAO,CAAC;QACjD,IAAID,KAAK,EAAE;UACT3B,QAAQ,CAACG,0CAAqB,CAAC0B,KAAK,CAACF,KAAK,CAAC,CAAC;QAC9C;MACF,CAAC;MAAA;IAAA;IACDD,UAAU,EAAE;IACZP,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,SAAS,EAAE;IACb,OAAO,qBAAC,8BAAiB;MAAC,IAAI,EAAC;IAAO,EAAG;EAC3C;EAEA,OACE,qBAAC,2BAAmB;IAAA,UACjB,CAACE,IAAI,GAAG,qBAAC,SAAS,KAAG,GAAG,qBAAC,kBAAkB;EAAG,EAC3B;AAE1B;AAEe,SAASU,GAAG,GAAG;EAC5B,OACE,qBAAC,oBAAQ;IAAC,KAAK,EAAEC,YAAM;IAAA,UACrB,qBAAC,SAAS;EAAG,EACJ;AAEf;AAEA,IAAMrB,MAAM,GAAGsB,uBAAU,CAACC,MAAM,CAAC;EAC/BC,SAAS,EAAE;IACTC,IAAI,EAAE,CAAC;IACPxC,eAAe,EAAE,MAAM;IACvByC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB,CAAC;EACDnC,MAAM,EAAE;IACNK,UAAU,EAAE,MAAM;IAClB+B,QAAQ,EAAE;EACZ,CAAC;EACDC,IAAI,EAAE;IACJC,SAAS,EAAE,MAAM;IACjBC,YAAY,EAAE,EAAE;IAChB9C,eAAe,EAAE,MAAM;IACvB+C,iBAAiB,EAAE;EACrB,CAAC;EACD/B,oBAAoB,EAAE;IACpB8B,YAAY,EAAE,EAAE;IAChBE,QAAQ,EAAE;EACZ,CAAC;EACD/B,oBAAoB,EAAE;IACpBgC,OAAO,EAAE,EAAE;IACXjD,eAAe,EAAE,SAAS;IAC1BkD,SAAS,EAAE;EACb;AACF,CAAC,CAAC"}