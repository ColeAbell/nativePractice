{"version":3,"names":["global","fetch","require","beforeEach","resetMocks","test","mockResponseOnce","JSON","stringify","ditto","onResponse","jest","fn","onError","getOnePokemon","then","catch","finally","expect","toHaveBeenCalled","mock","calls","toEqual","console","log","useFakeTimers","render","name","url","act","runAllTimers","screen","getByText","toBeOnTheScreen"],"sources":["Pokemon.test.js"],"sourcesContent":["import ditto from './ditto.json';\nimport {render, screen, fireEvent, act} from '@testing-library/react-native';\nimport 'react-native';\nimport React from 'react';\nimport Pokemon from '../UI/components/Pokemon';\nimport {getOnePokemon} from '../services/pokemonRequests';\n\nglobal.fetch = require('jest-fetch-mock');\n\nbeforeEach(() => {\n  fetch.resetMocks();\n});\n\ntest('returns result if object', () => {\n  fetch.mockResponseOnce(JSON.stringify(ditto));\n  const onResponse = jest.fn();\n  const onError = jest.fn();\n  return getOnePokemon()\n    .then(onResponse)\n    .catch(onError)\n    .finally(() => {\n      expect(onResponse).toHaveBeenCalled();\n      expect(onResponse.mock.calls[0][0]).toEqual(ditto);\n      console.log(onResponse.mock.calls);\n    });\n});\n\ntest('Does home screen work', async () => {\n  fetch.mockResponseOnce(JSON.stringify(ditto));\n  jest.useFakeTimers();\n  render(\n    <Pokemon\n      details={{\n        name: 'ditto',\n        url: 'https://pokeapi.co/api/v2/pokemon/1/',\n      }}\n      press={jest.fn()}\n    />,\n  );\n  act(() => {\n    jest.runAllTimers();\n  });\n  expect(screen.getByText('ditto')).toBeOnTheScreen();\n\n  //const pokes = await screen.getAllByTestId('bob');\n  //expect(pokes).toHaveLength(3);\n});\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAA0D;AAE1DA,MAAM,CAACC,KAAK,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAEzCC,UAAU,CAAC,YAAM;EACfF,KAAK,CAACG,UAAU,EAAE;AACpB,CAAC,CAAC;AAEFC,IAAI,CAAC,0BAA0B,EAAE,YAAM;EACrCJ,KAAK,CAACK,gBAAgB,CAACC,IAAI,CAACC,SAAS,CAACC,cAAK,CAAC,CAAC;EAC7C,IAAMC,UAAU,GAAGC,IAAI,CAACC,EAAE,EAAE;EAC5B,IAAMC,OAAO,GAAGF,IAAI,CAACC,EAAE,EAAE;EACzB,OAAO,IAAAE,8BAAa,GAAE,CACnBC,IAAI,CAACL,UAAU,CAAC,CAChBM,KAAK,CAACH,OAAO,CAAC,CACdI,OAAO,CAAC,YAAM;IACbC,MAAM,CAACR,UAAU,CAAC,CAACS,gBAAgB,EAAE;IACrCD,MAAM,CAACR,UAAU,CAACU,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAACb,cAAK,CAAC;IAClDc,OAAO,CAACC,GAAG,CAACd,UAAU,CAACU,IAAI,CAACC,KAAK,CAAC;EACpC,CAAC,CAAC;AACN,CAAC,CAAC;AAEFhB,IAAI,CAAC,uBAAuB,kCAAE,aAAY;EACxCJ,KAAK,CAACK,gBAAgB,CAACC,IAAI,CAACC,SAAS,CAACC,cAAK,CAAC,CAAC;EAC7CE,IAAI,CAACc,aAAa,EAAE;EACpB,IAAAC,mBAAM,EACJ,qBAAC,gBAAO;IACN,OAAO,EAAE;MACPC,IAAI,EAAE,OAAO;MACbC,GAAG,EAAE;IACP,CAAE;IACF,KAAK,EAAEjB,IAAI,CAACC,EAAE;EAAG,EACjB,CACH;EACD,IAAAiB,gBAAG,EAAC,YAAM;IACRlB,IAAI,CAACmB,YAAY,EAAE;EACrB,CAAC,CAAC;EACFZ,MAAM,CAACa,mBAAM,CAACC,SAAS,CAAC,OAAO,CAAC,CAAC,CAACC,eAAe,EAAE;AAIrD,CAAC,EAAC"}