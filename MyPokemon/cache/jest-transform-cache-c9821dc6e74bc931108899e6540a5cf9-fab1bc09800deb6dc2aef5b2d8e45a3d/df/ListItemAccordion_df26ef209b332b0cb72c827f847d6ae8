7b272265d2378d0f1d907cd19c2ae195
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("react-native");
var _ListItemBase = _interopRequireDefault(require("./ListItemBase"));
var _ListItemContent = _interopRequireDefault(require("./ListItemContent"));
var _config = require("../config");
var _Icon = require("../icons/Icon");
var _jsxRuntime = require("react/jsx-runtime");
var __rest = void 0 && (void 0).__rest || function (s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};
var Accordion = function Accordion(_a) {
  var children = _a.children,
    isExpanded = _a.isExpanded,
    icon = _a.icon,
    expandIcon = _a.expandIcon,
    content = _a.content,
    noRotation = _a.noRotation,
    noIcon = _a.noIcon,
    _a$animation = _a.animation,
    animation = _a$animation === void 0 ? {
      duration: 350,
      type: 'timing'
    } : _a$animation,
    props = __rest(_a, ["children", "isExpanded", "icon", "expandIcon", "content", "noRotation", "noIcon", "animation"]);
  var _React$useRef = _react.default.useRef(new _reactNative.Animated.Value(0)),
    transition = _React$useRef.current;
  var startAnimation = _react.default.useCallback(function () {
    if (typeof animation !== 'boolean') {
      _reactNative.Animated[animation.type || 'timing'](transition, {
        toValue: Number(isExpanded),
        useNativeDriver: false,
        duration: animation.duration || 350
      }).start();
    }
  }, [isExpanded, transition, animation]);
  _react.default.useEffect(function () {
    startAnimation();
  }, [isExpanded, startAnimation]);
  var rotate = noRotation || typeof animation === 'boolean' && animation ? '0deg' : transition.interpolate({
    inputRange: [0, 1],
    outputRange: ['0deg', '-180deg']
  });
  return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: [(0, _jsxRuntime.jsxs)(_ListItemBase.default, Object.assign({}, props, {
      children: [_react.default.isValidElement(content) ? content : (0, _jsxRuntime.jsx)(_ListItemContent.default, {}), !noIcon && (0, _jsxRuntime.jsx)(_reactNative.Animated.View, {
        style: {
          transform: [{
            rotate: rotate
          }]
        },
        children: icon ? (0, _jsxRuntime.jsx)(_Icon.Icon, Object.assign({}, expandIcon ? isExpanded ? expandIcon : icon : icon)) : (0, _jsxRuntime.jsx)(_Icon.Icon, {
          name: 'chevron-down',
          type: "material-community"
        })
      })]
    })), (0, _jsxRuntime.jsx)(_reactNative.Animated.View, {
      style: [Boolean(animation) && {
        maxHeight: transition.interpolate({
          inputRange: [0, 1],
          outputRange: ['0%', '100%']
        }),
        opacity: transition
      }],
      children: children
    })]
  });
};
var _default = (0, _config.withTheme)(Accordion, 'ListItemAccordion');
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX3Jlc3QiLCJzIiwiZSIsInQiLCJwIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImkiLCJsZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkFjY29yZGlvbiIsIl9hIiwiY2hpbGRyZW4iLCJpc0V4cGFuZGVkIiwiaWNvbiIsImV4cGFuZEljb24iLCJjb250ZW50Iiwibm9Sb3RhdGlvbiIsIm5vSWNvbiIsImFuaW1hdGlvbiIsImR1cmF0aW9uIiwidHlwZSIsInByb3BzIiwiUmVhY3QiLCJ1c2VSZWYiLCJBbmltYXRlZCIsIlZhbHVlIiwidHJhbnNpdGlvbiIsImN1cnJlbnQiLCJzdGFydEFuaW1hdGlvbiIsInVzZUNhbGxiYWNrIiwidG9WYWx1ZSIsIk51bWJlciIsInVzZU5hdGl2ZURyaXZlciIsInN0YXJ0IiwidXNlRWZmZWN0Iiwicm90YXRlIiwiaW50ZXJwb2xhdGUiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJpc1ZhbGlkRWxlbWVudCIsInRyYW5zZm9ybSIsIkJvb2xlYW4iLCJtYXhIZWlnaHQiLCJvcGFjaXR5Iiwid2l0aFRoZW1lIl0sInNvdXJjZXMiOlsiTGlzdEl0ZW1BY2NvcmRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFuaW1hdGVkIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBMaXN0SXRlbUJhc2UgZnJvbSAnLi9MaXN0SXRlbUJhc2UnO1xuaW1wb3J0IExpc3RJdGVtQ29udGVudCBmcm9tICcuL0xpc3RJdGVtQ29udGVudCc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uL2ljb25zL0ljb24nO1xuY29uc3QgQWNjb3JkaW9uID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgY2hpbGRyZW4sIGlzRXhwYW5kZWQsIGljb24sIGV4cGFuZEljb24sIGNvbnRlbnQsIG5vUm90YXRpb24sIG5vSWNvbiwgYW5pbWF0aW9uID0ge1xuICAgICAgICBkdXJhdGlvbjogMzUwLFxuICAgICAgICB0eXBlOiAndGltaW5nJyxcbiAgICB9IH0gPSBfYSwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiaXNFeHBhbmRlZFwiLCBcImljb25cIiwgXCJleHBhbmRJY29uXCIsIFwiY29udGVudFwiLCBcIm5vUm90YXRpb25cIiwgXCJub0ljb25cIiwgXCJhbmltYXRpb25cIl0pO1xuICAgIGNvbnN0IHsgY3VycmVudDogdHJhbnNpdGlvbiB9ID0gUmVhY3QudXNlUmVmKG5ldyBBbmltYXRlZC5WYWx1ZSgwKSk7XG4gICAgY29uc3Qgc3RhcnRBbmltYXRpb24gPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYW5pbWF0aW9uICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIEFuaW1hdGVkW2FuaW1hdGlvbi50eXBlIHx8ICd0aW1pbmcnXSh0cmFuc2l0aW9uLCB7XG4gICAgICAgICAgICAgICAgdG9WYWx1ZTogTnVtYmVyKGlzRXhwYW5kZWQpLFxuICAgICAgICAgICAgICAgIHVzZU5hdGl2ZURyaXZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAzNTAsXG4gICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfSwgW2lzRXhwYW5kZWQsIHRyYW5zaXRpb24sIGFuaW1hdGlvbl0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKCk7XG4gICAgfSwgW2lzRXhwYW5kZWQsIHN0YXJ0QW5pbWF0aW9uXSk7XG4gICAgY29uc3Qgcm90YXRlID0gbm9Sb3RhdGlvbiB8fCAodHlwZW9mIGFuaW1hdGlvbiA9PT0gJ2Jvb2xlYW4nICYmIGFuaW1hdGlvbilcbiAgICAgICAgPyAnMGRlZydcbiAgICAgICAgOiB0cmFuc2l0aW9uLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICAgIG91dHB1dFJhbmdlOiBbJzBkZWcnLCAnLTE4MGRlZyddLFxuICAgICAgICB9KTtcbiAgICByZXR1cm4gKDw+XG4gICAgICA8TGlzdEl0ZW1CYXNlIHsuLi5wcm9wc30+XG4gICAgICAgIHtSZWFjdC5pc1ZhbGlkRWxlbWVudChjb250ZW50KSA/IGNvbnRlbnQgOiA8TGlzdEl0ZW1Db250ZW50IC8+fVxuICAgICAgICB7IW5vSWNvbiAmJiAoPEFuaW1hdGVkLlZpZXcgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgIHtpY29uID8gKDxJY29uIHsuLi4oZXhwYW5kSWNvblxuICAgICAgICAgICAgICAgID8gaXNFeHBhbmRlZFxuICAgICAgICAgICAgICAgICAgICA/IGV4cGFuZEljb25cbiAgICAgICAgICAgICAgICAgICAgOiBpY29uXG4gICAgICAgICAgICAgICAgOiBpY29uKX0vPikgOiAoPEljb24gbmFtZT17J2NoZXZyb24tZG93bid9IHR5cGU9XCJtYXRlcmlhbC1jb21tdW5pdHlcIi8+KX1cbiAgICAgICAgICA8L0FuaW1hdGVkLlZpZXc+KX1cbiAgICAgIDwvTGlzdEl0ZW1CYXNlPlxuICAgICAgPEFuaW1hdGVkLlZpZXcgc3R5bGU9e1tcbiAgICAgICAgICAgIEJvb2xlYW4oYW5pbWF0aW9uKSAmJiB7XG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiB0cmFuc2l0aW9uLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRSYW5nZTogWycwJScsICcxMDAlJ10sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdHJhbnNpdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF19PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgPC8+KTtcbn07XG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoQWNjb3JkaW9uLCAnTGlzdEl0ZW1BY2NvcmRpb24nKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFxQztBQWhCckMsSUFBSUEsTUFBTSxHQUFJLFVBQVEsU0FBS0EsTUFBTSxJQUFLLFVBQVVDLENBQUMsRUFB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