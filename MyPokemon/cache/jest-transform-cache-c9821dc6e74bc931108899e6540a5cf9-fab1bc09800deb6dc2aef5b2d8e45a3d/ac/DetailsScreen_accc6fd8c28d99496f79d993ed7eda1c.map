{"version":3,"names":["DetailsScreen","route","navigation","useState","sprites","name","types","isFavorite","pokeDeets","setPokeDeets","favorites","useSelector","state","favoritesInfo","dispatch","useDispatch","addFav","favoriteActions","addFavorite","console","log","removeFav","removeFavorite","useEffect","details","params","deets","images","ptypes","backupImages","key","length","i","push","type","fav","includes","setOptions","headerRight","styles","container","imageContainer","uri","sprite","title","text","toUpperCase","map","t","StyleSheet","create","width","height","flex","flexDirection","justifyContent","marginTop","alignItems","backgroundColor","fontWeight","fontSize","textAlign"],"sources":["DetailsScreen.js"],"sourcesContent":["import {React, useEffect, useState} from 'react';\nimport {\n  Image,\n  SafeAreaView,\n  StyleSheet,\n  View,\n  Text,\n  FlatList,\n  ActivityIndicator,\n} from 'react-native';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {favoriteActions} from '../../../store/favoritesSlice';\nimport FavoriteButton from '../FavoriteButton';\nimport {Icon} from 'react-native-elements';\n\nexport default function DetailsScreen({route, navigation}) {\n  const [pokeDeets, setPokeDeets] = useState({\n    sprites: [],\n    name: '',\n    types: [],\n    isFavorite: false,\n  });\n  const favorites = useSelector(state => state.favoritesInfo.favorites);\n  const dispatch = useDispatch();\n\n  function addFav(name) {\n    dispatch(favoriteActions.addFavorite(name));\n    console.log('it reached');\n  }\n\n  function removeFav(name) {\n    dispatch(favoriteActions.removeFavorite(name));\n  }\n\n  useEffect(() => {\n    const details = route.params.deets;\n    let images = [0, 0];\n    let ptypes = [];\n    let backupImages = [0, 0];\n    for (const key in details.sprites) {\n      if (key === 'front_shiny') {\n        images[0] = details.sprites[key];\n      } else if (key === 'back_shiny') {\n        images[1] = details.sprites[key];\n      } else if (key === 'front_default') {\n        backupImages[0] = details.sprites[key];\n      } else if (key === 'back_default') {\n        backupImages[1] = details.sprites[key];\n      }\n    }\n    if (images.length < 2) {\n      if (images[0] === 0) {\n        images[0] = backupImages[0];\n      } else if (images[1] === 0) {\n        images[1] = backupImages[1];\n      }\n    }\n    for (let i = 0; i < details.types.length; i++) {\n      ptypes.push(details.types[i].type.name);\n    }\n    const fav = favorites.includes(details.name);\n    console.log(fav);\n\n    navigation.setOptions({\n      headerRight: () => {\n        return (\n          <FavoriteButton\n            fav={fav}\n            name={details.name}\n            addFav={addFav}\n            removeFav={removeFav}\n          />\n        );\n      },\n    });\n\n    setPokeDeets({\n      sprites: images,\n      name: details.name,\n      types: ptypes,\n      isFavorite: fav,\n    });\n  }, []);\n\n  if (pokeDeets.sprites.length === 0) {\n    return <ActivityIndicator size={'large'} />;\n  }\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.imageContainer}>\n        <Image source={{uri: pokeDeets.sprites[0]}} style={styles.sprite} />\n        <Image source={{uri: pokeDeets.sprites[1]}} style={styles.sprite} />\n      </View>\n      <View style={styles.name}>\n        <Text style={styles.title}>Name:</Text>\n        <Text style={styles.text}>{pokeDeets.name.toUpperCase()}</Text>\n      </View>\n      <View style={styles.types}>\n        <Text style={styles.title}>Types:</Text>\n        {pokeDeets.types.map(t => {\n          return (\n            <View>\n              <Text style={styles.text}>{t}</Text>\n            </View>\n          );\n        })}\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  sprite: {\n    width: 200,\n    height: 200,\n  },\n  imageContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  name: {\n    flex: 1,\n    marginTop: 45,\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#9DF7F4',\n  },\n  types: {\n    flex: 1,\n  },\n  text: {\n    fontWeight: 'bold',\n    fontSize: 50,\n  },\n  type: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 50,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n});\n"],"mappings":"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"}