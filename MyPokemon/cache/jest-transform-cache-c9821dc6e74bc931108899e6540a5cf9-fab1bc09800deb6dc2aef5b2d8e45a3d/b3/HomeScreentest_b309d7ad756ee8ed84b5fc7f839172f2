b9de0b2510dae2633d2e784fdfe27b15
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactNative = require("@testing-library/react-native");
require("react-native");
var _react = _interopRequireDefault(require("react"));
var _HomeScreen = _interopRequireDefault(require("../UI/components/screens/HomeScreen"));
var _pokemonRequests = require("../services/pokemonRequests");
var _jsxRuntime = require("react/jsx-runtime");
global.fetch = require('jest-fetch-mock');
var content = {
  results: [{
    name: 'bulbasaur',
    url: 'https://pokeapi.co/api/v2/pokemon/1/'
  }, {
    name: 'ivysaur',
    url: 'https://pokeapi.co/api/v2/pokemon/2/'
  }, {
    name: 'venusaur',
    url: 'https://pokeapi.co/api/v2/pokemon/3/'
  }]
};
beforeEach(function () {
  fetch.resetMocks();
});
test('returns result if object', function () {
  fetch.mockResponseOnce(JSON.stringify(content));
  var onResponse = jest.fn();
  var onError = jest.fn();
  return (0, _pokemonRequests.getAllPokemon)().then(onResponse).catch(onError).finally(function () {
    expect(onResponse).toHaveBeenCalled();
    expect(onResponse.mock.calls[0][0]).toEqual(content);
    console.log(onResponse.mock.calls);
  });
});
test('Does home screen work', (0, _asyncToGenerator2.default)(function* () {
  fetch.mockResponseOnce(JSON.stringify(content));
  (0, _reactNative.render)((0, _jsxRuntime.jsx)(_HomeScreen.default, {
    navigation: {
      setOptions: jest.fn()
    }
  }));
  var pokes = yield _reactNative.screen.getAllByTestId('bob');
  expect(pokes).toHaveLength(3);
}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnbG9iYWwiLCJmZXRjaCIsInJlcXVpcmUiLCJjb250ZW50IiwicmVzdWx0cyIsIm5hbWUiLCJ1cmwiLCJiZWZvcmVFYWNoIiwicmVzZXRNb2NrcyIsInRlc3QiLCJtb2NrUmVzcG9uc2VPbmNlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9uUmVzcG9uc2UiLCJqZXN0IiwiZm4iLCJvbkVycm9yIiwiZ2V0QWxsUG9rZW1vbiIsInRoZW4iLCJjYXRjaCIsImZpbmFsbHkiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibW9jayIsImNhbGxzIiwidG9FcXVhbCIsImNvbnNvbGUiLCJsb2ciLCJyZW5kZXIiLCJzZXRPcHRpb25zIiwicG9rZXMiLCJzY3JlZW4iLCJnZXRBbGxCeVRlc3RJZCIsInRvSGF2ZUxlbmd0aCJdLCJzb3VyY2VzIjpbIkhvbWVTY3JlZW4udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3JlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnR9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSG9tZVNjcmVlbiBmcm9tICcuLi9VSS9jb21wb25lbnRzL3NjcmVlbnMvSG9tZVNjcmVlbic7XG5pbXBvcnQge2dldEFsbFBva2Vtb24sIGdldE9uZVBva2Vtb259IGZyb20gJy4uL3NlcnZpY2VzL3Bva2Vtb25SZXF1ZXN0cyc7XG5cbmdsb2JhbC5mZXRjaCA9IHJlcXVpcmUoJ2plc3QtZmV0Y2gtbW9jaycpO1xuXG5sZXQgY29udGVudCA9IHtcbiAgcmVzdWx0czogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdidWxiYXNhdXInLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi9wb2tlbW9uLzEvJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdpdnlzYXVyJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vcG9rZWFwaS5jby9hcGkvdjIvcG9rZW1vbi8yLycsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAndmVudXNhdXInLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi9wb2tlbW9uLzMvJyxcbiAgICB9LFxuICBdLFxufTtcblxuYmVmb3JlRWFjaCgoKSA9PiB7XG4gIGZldGNoLnJlc2V0TW9ja3MoKTtcbn0pO1xuXG50ZXN0KCdyZXR1cm5zIHJlc3VsdCBpZiBvYmplY3QnLCAoKSA9PiB7XG4gIGZldGNoLm1vY2tSZXNwb25zZU9uY2UoSlNPTi5zdHJpbmdpZnkoY29udGVudCkpO1xuICBjb25zdCBvblJlc3BvbnNlID0gamVzdC5mbigpO1xuICBjb25zdCBvbkVycm9yID0gamVzdC5mbigpO1xuICByZXR1cm4gZ2V0QWxsUG9rZW1vbigpXG4gICAgLnRoZW4ob25SZXNwb25zZSlcbiAgICAuY2F0Y2gob25FcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBleHBlY3Qob25SZXNwb25zZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG9uUmVzcG9uc2UubW9jay5jYWxsc1swXVswXSkudG9FcXVhbChjb250ZW50KTtcbiAgICAgIGNvbnNvbGUubG9nKG9uUmVzcG9uc2UubW9jay5jYWxscyk7XG4gICAgfSk7XG59KTtcblxudGVzdCgnRG9lcyBob21lIHNjcmVlbiB3b3JrJywgYXN5bmMgKCkgPT4ge1xuICBmZXRjaC5tb2NrUmVzcG9uc2VPbmNlKEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpKTtcbiAgcmVuZGVyKDxIb21lU2NyZWVuIG5hdmlnYXRpb249e3tzZXRPcHRpb25zOiBqZXN0LmZuKCl9fSAvPik7XG4gIGNvbnN0IHBva2VzID0gYXdhaXQgc2NyZWVuLmdldEFsbEJ5VGVzdElkKCdib2InKTtcbiAgZXhwZWN0KHBva2VzKS50b0hhdmVMZW5ndGgoMyk7XG59KTtcblxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUF5RTtBQUV6RUEsTUFBTSxDQUFDQyxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUV6QyxJQUFJQyxPQUFPLEdBQUc7RUFDWkMsT0FBTyxFQUFFLENBQ1A7SUFDRUMsSUFBSSxFQUFFLFdBQVc7SUFDakJDLEdBQUcsRUFBRTtFQUNQLENBQUMsRUFDRDtJQUNFRCxJQUFJLEVBQUUsU0FBUztJQUNmQyxHQUFHLEVBQUU7RUFDUCxDQUFDLEVBQ0Q7SUFDRUQsSUFBSSxFQUFFLFVBQVU7SUFDaEJDLEdBQUcsRUFBRTtFQUNQLENBQUM7QUFFTCxDQUFDO0FBRURDLFVBQVUsQ0FBQyxZQUFNO0VBQ2ZOLEtBQUssQ0FBQ08sVUFBVSxFQUFFO0FBQ3BCLENBQUMsQ0FBQztBQUVGQyxJQUFJLENBQUMsMEJBQTBCLEVBQUUsWUFBTTtFQUNyQ1IsS0FBSyxDQUFDUyxnQkFBZ0IsQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLENBQUNULE9BQU8sQ0FBQyxDQUFDO0VBQy9DLElBQU1VLFVBQVUsR0FBR0MsSUFBSSxDQUFDQyxFQUFFLEVBQUU7RUFDNUIsSUFBTUMsT0FBTyxHQUFHRixJQUFJLENBQUNDLEVBQUUsRUFBRTtFQUN6QixPQUFPLElBQUFFLDhCQUFhLEdBQUUsQ0FDbkJDLElBQUksQ0FBQ0wsVUFBVSxDQUFDLENBQ2hCTSxLQUFLLENBQUNILE9BQU8sQ0FBQyxDQUNkSSxPQUFPLENBQUMsWUFBTTtJQUNiQyxNQUFNLENBQUNSLFVBQVUsQ0FBQyxDQUFDUyxnQkFBZ0IsRUFBRTtJQUNyQ0QsTUFBTSxDQUFDUixVQUFVLENBQUNVLElBQUksQ0FBQ0MsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQ3RCLE9BQU8sQ0FBQztJQUNwRHVCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDZCxVQUFVLENBQUNVLElBQUksQ0FBQ0MsS0FBSyxDQUFDO0VBQ3BDLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQztBQUVGZixJQUFJLENBQUMsdUJBQXVCLGtDQUFFLGFBQVk7RUFDeENSLEtBQUssQ0FBQ1MsZ0JBQWdCLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxDQUFDVCxPQUFPLENBQUMsQ0FBQztFQUMvQyxJQUFBeUIsbUJBQU0sRUFBQyxxQkFBQyxtQkFBVTtJQUFDLFVBQVUsRUFBRTtNQUFDQyxVQUFVLEVBQUVmLElBQUksQ0FBQ0MsRUFBRTtJQUFFO0VBQUUsRUFBRyxDQUFDO0VBQzNELElBQU1lLEtBQUssU0FBU0MsbUJBQU0sQ0FBQ0MsY0FBYyxDQUFDLEtBQUssQ0FBQztFQUNoRFgsTUFBTSxDQUFDUyxLQUFLLENBQUMsQ0FBQ0csWUFBWSxDQUFDLENBQUMsQ0FBQztBQUMvQixDQUFDLEVBQUMifQ==